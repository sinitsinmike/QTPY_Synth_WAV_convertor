# QTPY_Synth_V3 — Release Notes (RU)

Дата: 2026-02-26  
Устройство: Adafruit QT Py RP2040 (CircuitPython 9.x)

## Главное в этой версии
QTPY_Synth_V3 — это “code freeze” релиз с фокусом на живую игру и удобную настройку:
- **Latch** (удержание/защёлкивание пэдов) на 2-м экране.
- **Tune** (подстройка высоты каждого пэда: coarse + fine) на 2-м экране.
- **Quick Load / Quick Save** (быстрая загрузка/сохранение слота 1–4) **с 1-го экрана**, через удержание кнопки и выбор пэда.
- **Boot-режим для копирования файлов**: удержать кнопку при включении → виден диск CIRCUITPY для загрузки WAV в `/wav` и обновления файлов.

> Примечание: пункт **Load/Save на 2-м экране** временно скрыт (чтобы не менять поведение и не плодить баги). Быстрое сохранение/загрузка остаётся доступным через **Quick Save/Load с 1-го экрана**.

---

## Управление: экраны
### Экран 1 (Main)
- Показаны 4 строки параметров (по 2 параметра в строке).
- Подчёркнутая строка — текущая “редактируемая” пара параметров.
- **Короткий тап по кнопке** переключает, какая строка редактируется (0→1→2→3→0).
- Пэды (touch 1–4): игра нот / отпускание нот (если не включён Latch).

### Экран 2 (Setup)
Вход и выход:
- **Удерживать кнопку ~8 секунд** → вход в Setup (Экран 2).
- На Экран 2 есть режимы:
  - **LATCH**
  - **TUNE**
- **Короткий тап по кнопке** на Экран 2: переключение режима (LATCH ↔ TUNE).
- **Удерживать кнопку ~2 секунды** на Экран 2: выход обратно на Экран 1.

---

## Latch (Экран 2 → LATCH)
Задача: включить “защёлку” для каждого пэда, чтобы нота звучала без удержания.

Как пользоваться:
1. Зайди в Экран 2 (удержание кнопки ~8с).
2. Выбери режим **LATCH** (если не он — тап по кнопке).
3. Нажимай пэды 1–4:
   - Latch переключается **ON/OFF** для конкретного пэда.
   - При включении — нота стартует и продолжает звучать.
   - При выключении — нота останавливается.

---

## Tune (Экран 2 → TUNE)
Задача: подстроить высоту каждого пэда отдельно.

Как пользоваться:
1. Зайди в Экран 2.
2. Переключись в **TUNE** (тап по кнопке).
3. Нажми пэд 1–4 — выбираешь, какой пэд настраиваешь.
4. Крутилки:
   - **Левая**: coarse (грубая подстройка) — шагами в пределах примерно ±12 полутонов.
   - **Правая**: fine (точная) — в центах примерно -100…+100.
5. При настройке нота может проигрываться как “preview” (если latch OFF) или обновлять звучащую latch-ноту (если latch ON).

---

## Quick Load / Quick Save (Экран 1)
Quick Load/Save работают **только с 1-го экрана**, без захода в Setup.

### Quick Load (2–5 секунд удержания кнопки)
1. На Экран 1 удержи кнопку **2–5 секунд**.
2. Появится статус **ARM LOAD 1-4**.
3. Нажми пэд 1–4 → загрузится слот (1..4).

### Quick Save (5–8 секунд удержания кнопки)
1. На Экран 1 удержи кнопку **5–8 секунд**.
2. Появится статус **ARM SAVE 1-4**.
3. Нажми пэд 1–4 → сохранится слот (1..4).

Отмена:
- Если отпустить кнопку и слот не выбран — операция отменится (может показываться “Cancel”).

> Сохранение происходит **только по команде Save**. Автосохранений нет и не планируется.

---

## Boot-режим: видимый диск CIRCUITPY (для загрузки WAV)
Задача: дать пользователю простой способ закинуть wavetable-файлы в `/wav`.

Как включить:
1. **Зажми единственную кнопку на девайсе.**
2. **Включи питание** (или перезагрузи).
3. Диск **CIRCUITPY** станет виден на компьютере — можно копировать файлы (например, `*.WAV`) в папку `/wav`.

Как выйти:
- Сделай **power cycle** без зажатой кнопки → вернёшься в обычный режим, где диск скрыт и работает сохранение патчей.

---

## Совместимость и обновление
- Проект распространяется как архив **QTPY_Synth_V3.zip** на Git.
- Распакуй и **скопируй содержимое на CIRCUITPY с заменой файлов**.
- Папку `/wav` можно **не перезаписывать**, если хочешь сохранить свои WAV.

---

## Известные ограничения
- Load/Save как пункты меню на 2-м экране временно скрыты (code freeze).
- Сохранение/загрузка доступна через Quick Save/Load на 1-м экране.
